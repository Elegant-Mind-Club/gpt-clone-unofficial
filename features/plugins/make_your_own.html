<!DOCTYPE html>
<html class="no-js" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="This doc shows you how to create custom plugins for LibreChat by extending the LangChain `Tool` class. You will learn how to use different APIs and functions with your plugins, and how to integrate them with the LangChain framework." name="description"/>
  <link href="introduction.html" rel="prev"/>
  <link href="chatgpt_plugins_openapi.html" rel="next"/>
  <link href="../../assets/favicon_package/favicon-32x32.png" rel="icon"/>
  <meta content="mkdocs-1.5.3, mkdocs-material-9.5.4" name="generator"/>
  <title>
   üõ†Ô∏è Make Your Own - LibreChat
  </title>
  <link href="../../assets/stylesheets/main.50c56a3b.min.css" rel="stylesheet"/>
  <link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
  <style>
   :root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}
  </style>
  <script>
   __md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}
  </script>
  <meta content="article" property="og:type"/>
  <meta content="üõ†Ô∏è Make Your Own" property="og:title"/>
  <meta content="This doc shows you how to create custom plugins for LibreChat by extending the LangChain `Tool` class. You will learn how to use different APIs and functions with your plugins, and how to integrate them with the LangChain framework." property="og:description"/>
  <meta content="LibreChat" property="og:site_name"/>
  <meta content="en_us" property="og:locale"/>
  <meta content="Nonefeatures/plugins/make_your_own.html" property="og:url"/>
  <meta content="summary" property="twitter:card"/>
  <meta content="üõ†Ô∏è Make Your Own" property="twitter:title"/>
  <meta content="This doc shows you how to create custom plugins for LibreChat by extending the LangChain `Tool` class. You will learn how to use different APIs and functions with your plugins, and how to integrate them with the LangChain framework." property="twitter:description"/>
 </head>
 <body data-md-color-accent="purple" data-md-color-primary="cyan" data-md-color-scheme="slate" dir="ltr">
  <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" for="__drawer">
  </label>
  <div data-md-component="skip">
   <a class="md-skip" href="#making-your-own-plugin">
    Skip to content
   </a>
  </div>
  <div data-md-component="announce">
  </div>
  <header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
   <nav aria-label="Header" class="md-header__inner md-grid">
    <a aria-label="LibreChat" class="md-header__button md-logo" data-md-component="logo" href="../../index.html" title="LibreChat">
     <img alt="logo" src="../../assets/LibreChat.svg"/>
    </a>
    <label class="md-header__button md-icon" for="__drawer">
     <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z">
      </path>
     </svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
     <div class="md-header__ellipsis">
      <div class="md-header__topic">
       <span class="md-ellipsis">
        LibreChat
       </span>
      </div>
      <div class="md-header__topic" data-md-component="header-topic">
       <span class="md-ellipsis">
        üõ†Ô∏è Make Your Own
       </span>
      </div>
     </div>
    </div>
    <form class="md-header__option" data-md-component="palette">
     <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="purple" data-md-color-media="" data-md-color-primary="cyan" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
     <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
      <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
       <path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z">
       </path>
      </svg>
     </label>
     <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="purple" data-md-color-media="" data-md-color-primary="cyan" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
     <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to dark mode">
      <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
       <path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z">
       </path>
      </svg>
     </label>
    </form>
    <script>
     var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}
    </script>
    <label class="md-header__button md-icon" for="__search">
     <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
      </path>
     </svg>
    </label>
    <div class="md-search" data-md-component="search" role="dialog">
     <label class="md-search__overlay" for="__search">
     </label>
     <div class="md-search__inner" role="search">
      <form class="md-search__form" name="search">
       <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
       <label class="md-search__icon md-icon" for="__search">
        <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
         <path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
         </path>
        </svg>
        <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
         <path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z">
         </path>
        </svg>
       </label>
       <nav aria-label="Search" class="md-search__options">
        <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
         <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z">
          </path>
         </svg>
        </button>
       </nav>
      </form>
      <div class="md-search__output">
       <div class="md-search__scrollwrap" data-md-scrollfix="">
        <div class="md-search-result" data-md-component="search-result">
         <div class="md-search-result__meta">
          Initializing search
         </div>
         <ol class="md-search-result__list" role="presentation">
         </ol>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="md-header__source">
     <a class="md-source" data-md-component="source" href="https://github.com/danny-avila/LibreChat" title="Go to repository">
      <div class="md-source__icon md-icon">
       <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
        <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
        <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
        </path>
       </svg>
      </div>
      <div class="md-source__repository">
       danny-avila/LibreChat
      </div>
     </a>
    </div>
   </nav>
   <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
    <div class="md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../../index.html">
        Home
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../../install/index.html">
        Installation and Configuration
       </a>
      </li>
      <li class="md-tabs__item md-tabs__item--active">
       <a class="md-tabs__link" href="../index.html">
        Features
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../../deployment/index.html">
        Deployment
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../../general_info/index.html">
        General Information
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../../contributions/index.html">
        Contributing to LibreChat
       </a>
      </li>
     </ul>
    </div>
   </nav>
  </header>
  <div class="md-container" data-md-component="container">
   <main class="md-main" data-md-component="main">
    <div class="md-main__inner md-grid">
     <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
         <label class="md-nav__title" for="__drawer">
          <a aria-label="LibreChat" class="md-nav__button md-logo" data-md-component="logo" href="../../index.html" title="LibreChat">
           <img alt="logo" src="../../assets/LibreChat.svg"/>
          </a>
          LibreChat
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-component="source" href="https://github.com/danny-avila/LibreChat" title="Go to repository">
           <div class="md-source__icon md-icon">
            <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
             <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
             <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            danny-avila/LibreChat
           </div>
          </a>
         </div>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="../../index.html">
            <span class="md-ellipsis">
             Home
            </span>
           </a>
          </li>
          <li class="md-nav__item md-nav__item--section md-nav__item--nested">
           <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox"/>
           <div class="md-nav__link md-nav__container">
            <a class="md-nav__link" href="../../install/index.html">
             <span class="md-ellipsis">
              Installation and Configuration
             </span>
            </a>
            <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
             <span class="md-nav__icon md-icon">
             </span>
            </label>
           </div>
           <nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
            <label class="md-nav__title" for="__nav_2">
             <span class="md-nav__icon md-icon">
             </span>
             Installation and Configuration
            </label>
            <ul class="md-nav__list" data-md-scrollfix="">
             <li class="md-nav__item md-nav__item--nested">
              <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2_2" type="checkbox"/>
              <div class="md-nav__link md-nav__container">
               <a class="md-nav__link" href="../../install/installation/index.html">
                <span class="md-ellipsis">
                 Installation
                </span>
               </a>
               <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon">
                </span>
               </label>
              </div>
              <nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
               <label class="md-nav__title" for="__nav_2_2">
                <span class="md-nav__icon md-icon">
                </span>
                Installation
               </label>
               <ul class="md-nav__list" data-md-scrollfix="">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/installation/docker_compose_install.html">
                  <span class="md-ellipsis">
                   üê≥ Docker Compose ‚ú®(Recommended)
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/installation/container_install.html">
                  <span class="md-ellipsis">
                   ü¶¶ Container (Podman)
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/installation/linux_install.html">
                  <span class="md-ellipsis">
                   üêß Linux
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/installation/mac_install.html">
                  <span class="md-ellipsis">
                   üçé Mac
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/installation/windows_install.html">
                  <span class="md-ellipsis">
                   ü™ü Windows
                  </span>
                 </a>
                </li>
               </ul>
              </nav>
             </li>
             <li class="md-nav__item md-nav__item--nested">
              <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2_3" type="checkbox"/>
              <div class="md-nav__link md-nav__container">
               <a class="md-nav__link" href="../../install/configuration/index.html">
                <span class="md-ellipsis">
                 Configuration
                </span>
               </a>
               <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon">
                </span>
               </label>
              </div>
              <nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
               <label class="md-nav__title" for="__nav_2_3">
                <span class="md-nav__icon md-icon">
                </span>
                Configuration
               </label>
               <ul class="md-nav__list" data-md-scrollfix="">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/dotenv.html">
                  <span class="md-ellipsis">
                   ‚öôÔ∏è Environment Variables
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/docker_override.html">
                  <span class="md-ellipsis">
                   üêã Docker Compose Override
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/ai_setup.html">
                  <span class="md-ellipsis">
                   ü§ñ AI Setup
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/litellm.html">
                  <span class="md-ellipsis">
                   üöÖ LiteLLM
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/free_ai_apis.html">
                  <span class="md-ellipsis">
                   üí∏ Free AI APIs
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/user_auth_system.html">
                  <span class="md-ellipsis">
                   üõÇ Authentication System
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/mongodb.html">
                  <span class="md-ellipsis">
                   üçÉ Online MongoDB
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/default_language.html">
                  <span class="md-ellipsis">
                   üåç Default Language
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="../../install/configuration/misc.html">
                  <span class="md-ellipsis">
                   üåÄ Miscellaneous
                  </span>
                 </a>
                </li>
               </ul>
              </nav>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
           <input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
           <div class="md-nav__link md-nav__container">
            <a class="md-nav__link" href="../index.html">
             <span class="md-ellipsis">
              Features
             </span>
            </a>
            <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
             <span class="md-nav__icon md-icon">
             </span>
            </label>
           </div>
           <nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
            <label class="md-nav__title" for="__nav_3">
             <span class="md-nav__icon md-icon">
             </span>
             Features
            </label>
            <ul class="md-nav__list" data-md-scrollfix="">
             <li class="md-nav__item md-nav__item--active md-nav__item--nested">
              <input checked="" class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
              <div class="md-nav__link md-nav__container">
               <a class="md-nav__link" href="index.html">
                <span class="md-ellipsis">
                 Plugins
                </span>
               </a>
               <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon">
                </span>
               </label>
              </div>
              <nav aria-expanded="true" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
               <label class="md-nav__title" for="__nav_3_2">
                <span class="md-nav__icon md-icon">
                </span>
                Plugins
               </label>
               <ul class="md-nav__list" data-md-scrollfix="">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="introduction.html">
                  <span class="md-ellipsis">
                   üîå Introduction
                  </span>
                 </a>
                </li>
                <li class="md-nav__item md-nav__item--active">
                 <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
                 <label class="md-nav__link md-nav__link--active" for="__toc">
                  <span class="md-ellipsis">
                   üõ†Ô∏è Make Your Own
                  </span>
                  <span class="md-nav__icon md-icon">
                  </span>
                 </label>
                 <a class="md-nav__link md-nav__link--active" href="make_your_own.html">
                  <span class="md-ellipsis">
                   üõ†Ô∏è Make Your Own
                  </span>
                 </a>
                 <nav aria-label="Table of contents" class="md-nav md-nav--secondary">
                  <label class="md-nav__title" for="__toc">
                   <span class="md-nav__icon md-icon">
                   </span>
                   Table of contents
                  </label>
                  <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#key-takeaways">
                     <span class="md-ellipsis">
                      Key Takeaways
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#structuredtools">
                     <span class="md-ellipsis">
                      StructuredTools
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-1-import-required-modules">
                     <span class="md-ellipsis">
                      Step 1: Import Required Modules
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-2-define-your-tool-class">
                     <span class="md-ellipsis">
                      Step 2: Define Your Tool Class
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-3-define-helper-methods">
                     <span class="md-ellipsis">
                      Step 3: Define Helper Methods
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-4-implement-the-_call-method">
                     <span class="md-ellipsis">
                      Step 4: Implement the _call Method
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-5-export-your-plugin-and-import-into-handletoolsjs">
                     <span class="md-ellipsis">
                      Step 5: Export Your Plugin and import into handleTools.js
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-6-export-your-plugin-into-indexjs">
                     <span class="md-ellipsis">
                      Step 6: Export your Plugin into index.js
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#step-7-add-your-plugin-to-manifestjson">
                     <span class="md-ellipsis">
                      Step 7: Add your Plugin to manifest.json
                     </span>
                    </a>
                   </li>
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#example-wolframalphaapi-tool">
                     <span class="md-ellipsis">
                      Example: WolframAlphaAPI Tool
                     </span>
                    </a>
                   </li>
                  </ul>
                 </nav>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="chatgpt_plugins_openapi.html">
                  <span class="md-ellipsis">
                   üßë‚Äçüíº Official ChatGPT Plugins
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="google_search.html">
                  <span class="md-ellipsis">
                   üîé Google Search
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="stable_diffusion.html">
                  <span class="md-ellipsis">
                   üñåÔ∏è Stable Diffusion
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="wolfram.html">
                  <span class="md-ellipsis">
                   üß† Wolfram|Alpha
                  </span>
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="azure_ai_search.html">
                  <span class="md-ellipsis">
                   ‚ö° Azure AI Search
                  </span>
                 </a>
                </li>
               </ul>
              </nav>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../presets.html">
               <span class="md-ellipsis">
                üîñ Presets
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../mod_system.html">
               <span class="md-ellipsis">
                üî® Automated Moderation
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../token_usage.html">
               <span class="md-ellipsis">
                ü™ô Token Usage
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../firebase.html">
               <span class="md-ellipsis">
                üî• Firebase CDN Setup
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../manage_your_database.html">
               <span class="md-ellipsis">
                üçÉ Manage Your Database
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../logging_system.html">
               <span class="md-ellipsis">
                ü™µ Logging System
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../pandoranext.html">
               <span class="md-ellipsis">
                üì¶ PandoraNext
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../bing_jailbreak.html">
               <span class="md-ellipsis">
                üòà Bing Jailbreak
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../third_party.html">
               <span class="md-ellipsis">
                ‚ú® Third-Party Tools and Contributions
               </span>
              </a>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item md-nav__item--section md-nav__item--nested">
           <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
           <div class="md-nav__link md-nav__container">
            <a class="md-nav__link" href="../../deployment/index.html">
             <span class="md-ellipsis">
              Deployment
             </span>
            </a>
            <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
             <span class="md-nav__icon md-icon">
             </span>
            </label>
           </div>
           <nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
            <label class="md-nav__title" for="__nav_4">
             <span class="md-nav__icon md-icon">
             </span>
             Deployment
            </label>
            <ul class="md-nav__list" data-md-scrollfix="">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/digitalocean.html">
               <span class="md-ellipsis">
                üåä DigitalOcean ‚ú®(Recommended)
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/huggingface.html">
               <span class="md-ellipsis">
                ü§ó HuggingFace
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/linode.html">
               <span class="md-ellipsis">
                üêß Linode
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/cloudflare.html">
               <span class="md-ellipsis">
                ‚òÅÔ∏è Cloudflare
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/azure-terraform.html">
               <span class="md-ellipsis">
                ‚ö° Azure
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/ngrok.html">
               <span class="md-ellipsis">
                ü™® Ngrok
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/render.html">
               <span class="md-ellipsis">
                ‚èπÔ∏è Render
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/meilisearch_in_render.html">
               <span class="md-ellipsis">
                üîé Meilisearch in Render
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/hetzner_ubuntu.html">
               <span class="md-ellipsis">
                üèóÔ∏è Hetzner
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../deployment/heroku.html">
               <span class="md-ellipsis">
                üåà Heroku
               </span>
              </a>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item md-nav__item--section md-nav__item--nested">
           <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
           <div class="md-nav__link md-nav__container">
            <a class="md-nav__link" href="../../general_info/index.html">
             <span class="md-ellipsis">
              General Information
             </span>
            </a>
            <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
             <span class="md-nav__icon md-icon">
             </span>
            </label>
           </div>
           <nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
            <label class="md-nav__title" for="__nav_5">
             <span class="md-nav__icon md-icon">
             </span>
             General Information
            </label>
            <ul class="md-nav__list" data-md-scrollfix="">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../general_info/breaking_changes.html">
               <span class="md-ellipsis">
                ‚ö†Ô∏è Breaking Changes
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../general_info/multilingual_information.html">
               <span class="md-ellipsis">
                üåç Multilingual Information
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../general_info/project_origin.html">
               <span class="md-ellipsis">
                üß≠ Origin
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../general_info/tech_stack.html">
               <span class="md-ellipsis">
                üßë‚Äçüíª Tech Stack
               </span>
              </a>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item md-nav__item--section md-nav__item--nested">
           <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
           <div class="md-nav__link md-nav__container">
            <a class="md-nav__link" href="../../contributions/index.html">
             <span class="md-ellipsis">
              Contributing to LibreChat
             </span>
            </a>
            <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
             <span class="md-nav__icon md-icon">
             </span>
            </label>
           </div>
           <nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
            <label class="md-nav__title" for="__nav_6">
             <span class="md-nav__icon md-icon">
             </span>
             Contributing to LibreChat
            </label>
            <ul class="md-nav__list" data-md-scrollfix="">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../contributions/how_to_contribute.html">
               <span class="md-ellipsis">
                üôå Beginner's Guide to Contributions
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../contributions/documentation_guidelines.html">
               <span class="md-ellipsis">
                üìù Documentation Guidelines
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../contributions/translation_contribution.html">
               <span class="md-ellipsis">
                üåç Contribute a Translation
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../contributions/coding_conventions.html">
               <span class="md-ellipsis">
                üßë‚Äçüíª Code Standards and Conventions
               </span>
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../../contributions/testing.html">
               <span class="md-ellipsis">
                üß™ Testing During Development
               </span>
              </a>
             </li>
            </ul>
           </nav>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav aria-label="Table of contents" class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          <span class="md-nav__icon md-icon">
          </span>
          Table of contents
         </label>
         <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#key-takeaways">
            <span class="md-ellipsis">
             Key Takeaways
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#structuredtools">
            <span class="md-ellipsis">
             StructuredTools
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-1-import-required-modules">
            <span class="md-ellipsis">
             Step 1: Import Required Modules
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-2-define-your-tool-class">
            <span class="md-ellipsis">
             Step 2: Define Your Tool Class
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-3-define-helper-methods">
            <span class="md-ellipsis">
             Step 3: Define Helper Methods
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-4-implement-the-_call-method">
            <span class="md-ellipsis">
             Step 4: Implement the _call Method
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-5-export-your-plugin-and-import-into-handletoolsjs">
            <span class="md-ellipsis">
             Step 5: Export Your Plugin and import into handleTools.js
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-6-export-your-plugin-into-indexjs">
            <span class="md-ellipsis">
             Step 6: Export your Plugin into index.js
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#step-7-add-your-plugin-to-manifestjson">
            <span class="md-ellipsis">
             Step 7: Add your Plugin to manifest.json
            </span>
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="#example-wolframalphaapi-tool">
            <span class="md-ellipsis">
             Example: WolframAlphaAPI Tool
            </span>
           </a>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content" data-md-component="content">
      <article class="md-content__inner md-typeset">
       <a class="md-content__button md-icon" href="https://github.com/danny-avila/LibreChat/blob/main/docs/features/plugins/make_your_own.md" title="Edit this page">
        <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
         <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z">
         </path>
        </svg>
       </a>
       <h1 id="making-your-own-plugin">
        Making your own Plugin
       </h1>
       <p>
        Creating custom plugins for this project involves extending the
        <code>
         Tool
        </code>
        class from the
        <code>
         langchain/tools
        </code>
        module.
       </p>
       <p>
        <strong>
         Note:
        </strong>
        I will use the word plugin interchangeably with tool, as the latter is specific to LangChain, and we are mainly conforming to the library.
       </p>
       <p>
        You are essentially creating DynamicTools in LangChain speak. See the
        <strong>
         <a href="https://js.langchain.com/docs/modules/agents/tools/dynamic">
          LangChainJS docs
         </a>
        </strong>
        for more info.
       </p>
       <p>
        This guide will walk you through the process of creating your own custom plugins, using the
        <code>
         StableDiffusionAPI
        </code>
        and
        <code>
         WolframAlphaAPI
        </code>
        tools as examples.
       </p>
       <p>
        When using the Functions Agent (the default mode for plugins), tools are converted to
        <strong>
         <a href="https://openai.com/blog/function-calling-and-other-api-updates">
          OpenAI functions
         </a>
        </strong>
        ; in any case, plugins/tools are invoked conditionally based on the LLM generating a specific format that we parse.
       </p>
       <p>
        The most common implementation of a plugin is to make an API call based on the natural language input from the AI, but there is virtually no limit in programmatic use case.
       </p>
       <hr/>
       <h2 id="key-takeaways">
        Key Takeaways
       </h2>
       <p>
        Here are the key takeaways for creating your own plugin:
       </p>
       <p>
        <strong>
         1.
        </strong>
        <a href="make_your_own.html#step-1-import-required-modules">
         <strong>
          Import Required Modules:
         </strong>
        </a>
        Import the necessary modules for your plugin, including the
        <code>
         Tool
        </code>
        class from
        <code>
         langchain/tools
        </code>
        and any other modules your plugin might need.
       </p>
       <p>
        <strong>
         2.
        </strong>
        <a href="make_your_own.html#step-2-define-your-tool-class">
         <strong>
          Define Your Plugin Class:
         </strong>
        </a>
        Define a class for your plugin that extends the
        <code>
         Tool
        </code>
        class. Set the
        <code>
         name
        </code>
        and
        <code>
         description
        </code>
        properties in the constructor. If your plugin requires credentials or other variables, set them from the fields parameter or from a method that retrieves them from your process environment. Note: if your plugin requires long, detailed instructions, you can add a
        <code>
         description_for_model
        </code>
        property and make
        <code>
         description
        </code>
        more general.
       </p>
       <p>
        <strong>
         3.
        </strong>
        <a href="make_your_own.html#step-3-define-helper-methods">
         <strong>
          Define Helper Methods:
         </strong>
        </a>
        Define helper methods within your class to handle specific tasks if needed.
       </p>
       <p>
        <strong>
         4.
        </strong>
        <a href="make_your_own.html#step-4-implement-the-_call-method">
         <strong>
          Implement the
          <code>
           _call
          </code>
          Method:
         </strong>
        </a>
        Implement the
        <code>
         _call
        </code>
        method where the main functionality of your plugin is defined. This method is called when the language model decides to use your plugin. It should take an
        <code>
         input
        </code>
        parameter and return a result. If an error occurs, the function should return a string representing an error, rather than throwing an error. If your plugin requires multiple inputs from the LLM, read the
        <a href="#StructuredTools">
         StructuredTools
        </a>
        section.
       </p>
       <p>
        <strong>
         5.
        </strong>
        <a href="make_your_own.html#step-5-export-your-plugin-and-import-into-handletoolsjs">
         <strong>
          Export Your Plugin and Import into handleTools.js:
         </strong>
        </a>
        Export your plugin and import it into
        <code>
         handleTools.js
        </code>
        . Add your plugin to the
        <code>
         toolConstructors
        </code>
        object in the
        <code>
         loadTools
        </code>
        function. If your plugin requires more advanced initialization, add it to the
        <code>
         customConstructors
        </code>
        object.
       </p>
       <p>
        <strong>
         6.
        </strong>
        <a href="make_your_own.html#step-6-export-your-plugin-into-indexjs">
         <strong>
          Export YourPlugin into index.js:
         </strong>
        </a>
        Export your plugin into
        <code>
         index.js
        </code>
        under
        <code>
         tools
        </code>
        . Add your plugin to the
        <code>
         module.exports
        </code>
        of the
        <code>
         index.js
        </code>
        , so you also need to declare it as
        <code>
         const
        </code>
        in this file.
       </p>
       <p>
        <strong>
         7.
        </strong>
        <a href="make_your_own.html#step-7-add-your-plugin-to-manifestjson">
         <strong>
          Add Your Plugin to manifest.json:
         </strong>
        </a>
        Add your plugin to
        <code>
         manifest.json
        </code>
        . Follow the strict format for each of the fields of the "plugin" object. If your plugin requires authentication, add those details under
        <code>
         authConfig
        </code>
        as an array. The
        <code>
         pluginKey
        </code>
        should match the class
        <code>
         name
        </code>
        of the Tool class you made, and the
        <code>
         authField
        </code>
        prop must match the process.env variable name.
       </p>
       <p>
        Remember, the key to creating a custom plugin is to extend the
        <code>
         Tool
        </code>
        class and implement the
        <code>
         _call
        </code>
        method. The
        <code>
         _call
        </code>
        method is where you define what your plugin does. You can also define helper methods and properties in your class to support the functionality of your plugin.
       </p>
       <p>
        <strong>
         Note: You can find all the files mentioned in this guide in the
         <code>
          .\api\app\langchain\tools
         </code>
         folder.
        </strong>
       </p>
       <hr/>
       <h2 id="structuredtools">
        StructuredTools
       </h2>
       <p>
        <strong>
         Multi-Input Plugins
        </strong>
       </p>
       <p>
        If you would like to make a plugin that would benefit from multiple inputs from the LLM, instead of a singular input string as we will review, you need to make a LangChain
        <strong>
         <a href="https://blog.langchain.dev/structured-tools/">
          StructuredTool
         </a>
        </strong>
        instead. A detailed guide for this is in progress, but for now, you can look at how I've made StructuredTools in this directory:
        <code>
         api\app\clients\tools\structured\
        </code>
        . This guide is foundational to understanding StructuredTools, and it's recommended you continue reading to better understand LangChain tools first. The blog linked above is also helpful once you've read through this guide.
       </p>
       <hr/>
       <h2 id="step-1-import-required-modules">
        Step 1: Import Required Modules
       </h2>
       <p>
        Start by importing the necessary modules. This will include the
        <code>
         Tool
        </code>
        class from
        <code>
         langchain/tools
        </code>
        and any other modules your tool might need. For example:
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'langchain/tools'</span><span class="p">);</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1">// ... whatever else you need</span>
</code></pre>
       </div>
       <h2 id="step-2-define-your-tool-class">
        Step 2: Define Your Tool Class
       </h2>
       <p>
        Next, define a class for your plugin that extends the
        <code>
         Tool
        </code>
        class. The class should have a constructor that calls the
        <code>
         super()
        </code>
        method and sets the
        <code>
         name
        </code>
        and
        <code>
         description
        </code>
        properties. These properties will be used by the language model to determine when to call your tool and with what parameters.
       </p>
       <p>
        <strong>
         Important:
        </strong>
        you should set credentials/necessary variables from the fields parameter, or alternatively from a method that gets it from your process environment
        <div class="highlight">
         <pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">fields</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="k">super</span><span class="p">();</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'stable-diffusion'</span><span class="p">;</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fields</span><span class="p">.</span><span class="nx">SD_WEBUI_URL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getServerURL</span><span class="p">();</span><span class="w"> </span><span class="c1">// &lt;--- important!</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`You can generate images with 'stable-diffusion'. This tool is exclusively for visual content...`</span><span class="p">;</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="p">}</span>
</code></pre>
        </div>
       </p>
       <p>
        <strong>
         Optional:
        </strong>
        As of v0.5.8, when using Functions, you can add longer, more detailed instructions, with the
        <code>
         description_for_model
        </code>
        property. When doing so, it's recommended you make the
        <code>
         description
        </code>
        property more generalized to optimize tokens. Each line in this property is prefixed with
        <code>
         //
        </code>
        to mirror how the prompt is generated for ChatGPT (chat.openai.com). This format more closely aligns to the prompt engineering of official ChatGPT plugins.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// ...</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">description_for_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`// Generate images and visuals using text with 'stable-diffusion'.</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="sb">// Guidelines:</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="sb">// - ALWAYS use {{"prompt": "7+ detailed keywords", "negative_prompt": "7+ detailed keywords"}} structure for queries.</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="sb">// - Visually describe the moods, details, structures, styles, and/or proportions of the image. Remember, the focus is on visual attributes.</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="sb">// - Craft your input by "showing" and not "telling" the imagery. Think in terms of what you'd want to see in a photograph or a painting.</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="sb">// - Here's an example for generating a realistic portrait photo of a man:</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="sb">// "prompt":"photo of a man in black clothes, half body, high detailed skin, coastline, overcast weather, wind, waves, 8k uhd, dslr, soft lighting, high quality, film grain, Fujifilm XT3"</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="sb">// "negative_prompt":"semi-realistic, cgi, 3d, render, sketch, cartoon, drawing, anime, out of frame, low quality, ugly, mutation, deformed"</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="sb">// - Generate images only once per human query unless explicitly requested by the user`</span><span class="p">;</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'You can generate images using text with \'stable-diffusion\'. This tool is exclusively for visual content.'</span><span class="p">;</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="c1">// ...</span>
</code></pre>
       </div>
       <p>
        Within the constructor, note that we're getting a sensitive variable from either the fields object or from the
        <strong>
         getServerURL
        </strong>
        method we define to access an environment variable.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fields</span><span class="p">.</span><span class="nx">SD_WEBUI_URL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getServerURL</span><span class="p">();</span>
</code></pre>
       </div>
       <p>
        Any credentials necessary are passed through
        <code>
         fields
        </code>
        when the user provides it from the frontend; otherwise, the admin can "authorize" the plugin for all users through environment variables. All credentials passed from the frontend are encrypted.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// It's recommended you follow this convention when accessing environment variables.</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="nx">getServerURL</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SD_WEBUI_URL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">'Missing SD_WEBUI_URL environment variable.'</span><span class="p">);</span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">url</span><span class="p">;</span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">  </span><span class="p">}</span>
</code></pre>
       </div>
       <h2 id="step-3-define-helper-methods">
        Step 3: Define Helper Methods
       </h2>
       <p>
        You can define helper methods within your class to handle specific tasks if needed. For example, the
        <code>
         StableDiffusionAPI
        </code>
        class includes methods like
        <code>
         replaceNewLinesWithSpaces
        </code>
        ,
        <code>
         getMarkdownImageUrl
        </code>
        , and
        <code>
         getServerURL
        </code>
        to handle various tasks.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="nx">replaceNewLinesWithSpaces</span><span class="p">(</span><span class="nx">inputString</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">inputString</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\r\n|\r|\n/g</span><span class="p">,</span><span class="w"> </span><span class="s1">' '</span><span class="p">);</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="p">}</span>
</code></pre>
       </div>
       <h2 id="step-4-implement-the-_call-method">
        Step 4: Implement the
        <code>
         _call
        </code>
        Method
       </h2>
       <p>
        The
        <code>
         _call
        </code>
        method is where the main functionality of your plugin is implemented. This method is called when the language model decides to use your plugin. It should take an
        <code>
         input
        </code>
        parameter and return a result.
       </p>
       <blockquote>
        <p>
         In a basic Tool, the LLM will generate one string value as an input. If your plugin requires multiple inputs from the LLM, read the
         <strong>
          <a href="#StructuredTools">
           StructuredTools
          </a>
         </strong>
         section.
        </p>
       </blockquote>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">_call</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="c1">// Your tool's functionality goes here</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">    </span><span class="p">...</span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="p">}</span>
</code></pre>
       </div>
       <p>
        <strong>
         Important:
        </strong>
        The _call function is what will the agent will actually call. When an error occurs, the function should, when possible, return a string representing an error, rather than throwing an error. This allows the error to be passed to the LLM and the LLM can decide how to handle it. If an error is thrown, then execution of the agent will stop.
       </p>
       <h2 id="step-5-export-your-plugin-and-import-into-handletoolsjs">
        Step 5: Export Your Plugin and import into handleTools.js
       </h2>
       <p>
        <strong>
         This process will be somewhat automated in the future, as long as you have your plugin/tool in api\app\langchain\tools
        </strong>
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">// Export</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="p">;</span>
</code></pre>
       </div>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="cm">/* api\app\langchain\tools\handleTools.js */</span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'./StableDiffusion'</span><span class="p">);</span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="p">...</span>
</code></pre>
       </div>
       <p>
        In handleTools.js, find the beginning of the
        <code>
         loadTools
        </code>
        function and add your plugin/tool to the toolConstructors object.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">loadTools</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">model</span><span class="p">,</span><span class="w"> </span><span class="nx">tools</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="nx">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">toolConstructors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="nx">calculator</span><span class="o">:</span><span class="w"> </span><span class="nx">Calculator</span><span class="p">,</span>
<a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="nx">google</span><span class="o">:</span><span class="w"> </span><span class="nx">GoogleSearchAPI</span><span class="p">,</span>
<a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="nx">wolfram</span><span class="o">:</span><span class="w"> </span><span class="nx">WolframAlphaAPI</span><span class="p">,</span>
<a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">    </span><span class="s1">'dall-e'</span><span class="o">:</span><span class="w"> </span><span class="nx">OpenAICreateImage</span><span class="p">,</span>
<a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">    </span><span class="s1">'stable-diffusion'</span><span class="o">:</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="c1">// &lt;----- Newly Added. Note: the key is the 'name' provided in the class. </span>
<a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">    </span><span class="c1">// We will now refer to this name as the `pluginKey`</span>
<a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">  </span><span class="p">};</span>
</code></pre>
       </div>
       <p>
        If your Tool class requires more advanced initialization, you would add it to the customConstructors object.
       </p>
       <p>
        The default initialization can be seen in the
        <code>
         loadToolWithAuth
        </code>
        function, and most custom plugins should be initialized this way.
       </p>
       <p>
        Here are a few customConstructors, which have varying initializations
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">customConstructors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="nx">browser</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">openAIApiKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">OPENAI_API_KEY</span><span class="p">;</span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">openAIApiKey</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">        </span><span class="nx">openAIApiKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getUserPluginAuthValue</span><span class="p">(</span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="s1">'OPENAI_API_KEY'</span><span class="p">);</span>
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">      </span><span class="p">}</span>
<a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WebBrowser</span><span class="p">({</span><span class="w"> </span><span class="nx">model</span><span class="p">,</span><span class="w"> </span><span class="nx">embeddings</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">OpenAIEmbeddings</span><span class="p">({</span><span class="w"> </span><span class="nx">openAIApiKey</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">});</span>
<a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">    </span><span class="p">},</span>
<a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">  </span><span class="c1">// ...</span>
<a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">    </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="w">        </span><span class="ow">new</span><span class="w"> </span><span class="nx">HttpRequestTool</span><span class="p">(),</span>
<a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="nx">AIPluginTool</span><span class="p">.</span><span class="nx">fromPluginUrl</span><span class="p">(</span>
<a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="w">          </span><span class="s2">"https://www.klarna.com/.well-known/ai-plugin.json"</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ChatOpenAI</span><span class="p">({</span><span class="w"> </span><span class="nx">openAIApiKey</span><span class="o">:</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">openAIApiKey</span><span class="p">,</span><span class="w"> </span><span class="nx">temperature</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">})</span>
<a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="w">        </span><span class="p">),</span>
<a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="w">      </span><span class="p">]</span>
<a href="#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="w">  </span><span class="p">};</span>
</code></pre>
       </div>
       <h2 id="step-6-export-your-plugin-into-indexjs">
        Step 6: Export your Plugin into index.js
       </h2>
       <p>
        Find the
        <code>
         index.js
        </code>
        under
        <code>
         api/app/clients/tools
        </code>
        . You need to put your plugin into the
        <code>
         module.exports
        </code>
        , to make it compile, you will also need to declare your plugin as
        <code>
         consts
        </code>
        :
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">StructuredSD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'./structured/StableDiffusion'</span><span class="p">);</span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">StableDiffusionAPI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'./StableDiffusion'</span><span class="p">);</span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="p">...</span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">  </span><span class="nx">StableDiffusionAPI</span><span class="p">,</span>
<a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">  </span><span class="nx">StructuredSD</span><span class="p">,</span>
<a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">  </span><span class="p">...</span>
<a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="p">}</span>
</code></pre>
       </div>
       <h2 id="step-7-add-your-plugin-to-manifestjson">
        Step 7: Add your Plugin to manifest.json
       </h2>
       <p>
        <strong>
         This process will be somehwat automated in the future along with step 5, as long as you have your plugin/tool in api\app\langchain\tools, and your plugin can be initialized with the default method
        </strong>
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calculator"</span><span class="p">,</span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="nt">"pluginKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calculator"</span><span class="p">,</span>
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Perform simple and complex mathematical calculations."</span><span class="p">,</span>
<a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://i.imgur.com/RHsSG5h.png"</span><span class="p">,</span>
<a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="nt">"isAuthRequired"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span>
<a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">    </span><span class="nt">"authConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">  </span><span class="p">},</span>
<a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-12-10" id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stable Diffusion"</span><span class="p">,</span>
<a href="#__codelineno-12-11" id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">    </span><span class="nt">"pluginKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stable-diffusion"</span><span class="p">,</span>
<a href="#__codelineno-12-12" id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Generate photo-realistic images given any text input."</span><span class="p">,</span>
<a href="#__codelineno-12-13" id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">    </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://i.imgur.com/Yr466dp.png"</span><span class="p">,</span>
<a href="#__codelineno-12-14" id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">    </span><span class="nt">"authConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a href="#__codelineno-12-15" id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">      </span><span class="p">{</span>
<a href="#__codelineno-12-16" id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="w">        </span><span class="nt">"authField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SD_WEBUI_URL"</span><span class="p">,</span>
<a href="#__codelineno-12-17" id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="w">        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your Stable Diffusion WebUI API URL"</span><span class="p">,</span>
<a href="#__codelineno-12-18" id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You need to provide the URL of your Stable Diffusion WebUI API. For instructions on how to obtain this, see &lt;a href='url'&gt;Our Docs&lt;/a&gt;."</span>
<a href="#__codelineno-12-19" id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="w">      </span><span class="p">}</span>
<a href="#__codelineno-12-20" id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="w">    </span><span class="p">]</span>
<a href="#__codelineno-12-21" id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="w">  </span><span class="p">},</span>
</code></pre>
       </div>
       <p>
        Each of the fields of the "plugin" object are important. Follow this format strictly. If your plugin requires authentication, you will add those details under
        <code>
         authConfig
        </code>
        as an array since there could be multiple authentication variables. See the Calculator plugin for an example of one that doesn't require authentication, where the authConfig is an empty array (an array is always required).
       </p>
       <p>
        <strong>
         Note:
        </strong>
        as mentioned earlier, the
        <code>
         pluginKey
        </code>
        matches the class
        <code>
         name
        </code>
        of the Tool class you made.
        <strong>
         Note:
        </strong>
        the
        <code>
         authField
        </code>
        prop must match the process.env variable name
       </p>
       <p>
        Here is an example of a plugin with more than one credential variable
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="w">  </span><span class="p">[</span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">    </span><span class="nt">"pluginKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span>
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Use Google Search to find information about the weather, news, sports, and more."</span><span class="p">,</span>
<a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">    </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://i.imgur.com/SMmVkNB.png"</span><span class="p">,</span>
<a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="nt">"authConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">      </span><span class="p">{</span>
<a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">        </span><span class="nt">"authField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GOOGLE_CSE_ID"</span><span class="p">,</span>
<a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="w">        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google CSE ID"</span><span class="p">,</span>
<a href="#__codelineno-13-11" id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is your Google Custom Search Engine ID. For instructions on how to obtain this, see &lt;a href='https://github.com/danny-avila/LibreChat/blob/main/docs/features/plugins/google_search.md'&gt;Our Docs&lt;/a&gt;."</span>
<a href="#__codelineno-13-12" id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">      </span><span class="p">},</span>
<a href="#__codelineno-13-13" id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w">      </span><span class="p">{</span>
<a href="#__codelineno-13-14" id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="w">        </span><span class="nt">"authField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GOOGLE_API_KEY"</span><span class="p">,</span>
<a href="#__codelineno-13-15" id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="w">        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google API Key"</span><span class="p">,</span>
<a href="#__codelineno-13-16" id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is your Google Custom Search API Key. For instructions on how to obtain this, see &lt;a href='https://github.com/danny-avila/LibreChat/blob/main/docs/features/plugins/google_search.md'&gt;Our Docs&lt;/a&gt;."</span>
<a href="#__codelineno-13-17" id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">      </span><span class="p">}</span>
<a href="#__codelineno-13-18" id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="w">    </span><span class="p">]</span>
<a href="#__codelineno-13-19" id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">  </span><span class="p">},</span>
</code></pre>
       </div>
       <h2 id="example-wolframalphaapi-tool">
        Example: WolframAlphaAPI Tool
       </h2>
       <p>
        Here's another example of a custom tool, the
        <code>
         WolframAlphaAPI
        </code>
        tool. This tool uses the
        <code>
         axios
        </code>
        module to make HTTP requests to the Wolfram Alpha API.
       </p>
       <div class="highlight">
        <pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'langchain/tools'</span><span class="p">);</span>
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="kd">class</span><span class="w"> </span><span class="nx">WolframAlphaAPI</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Tool</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">fields</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">    </span><span class="k">super</span><span class="p">();</span>
<a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'wolfram'</span><span class="p">;</span>
<a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">apiKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fields</span><span class="p">.</span><span class="nx">WOLFRAM_APP_ID</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getAppId</span><span class="p">();</span>
<a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`Access computation, math, curated knowledge &amp; real-time data through wolframAlpha...`</span><span class="p">;</span>
<a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-14-11" id="__codelineno-14-11" name="__codelineno-14-11"></a>
<a href="#__codelineno-14-12" id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">fetchRawText</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-13" id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-14" id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">responseType</span><span class="o">:</span><span class="w"> </span><span class="s1">'text'</span><span class="w"> </span><span class="p">});</span>
<a href="#__codelineno-14-15" id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<a href="#__codelineno-14-16" id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-17" id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Error fetching raw text: </span><span class="si">${</span><span class="nx">error</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-14-18" id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="nx">error</span>
<a href="#__codelineno-14-19" id="__codelineno-14-19" name="__codelineno-14-19"></a>
<a href="#__codelineno-14-20" id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-14-21" id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-14-22" id="__codelineno-14-22" name="__codelineno-14-22"></a>
<a href="#__codelineno-14-23" id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">  </span><span class="nx">getAppId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-24" id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">appId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">WOLFRAM_APP_ID</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<a href="#__codelineno-14-25" id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">appId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-26" id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">'Missing WOLFRAM_APP_ID environment variable.'</span><span class="p">);</span>
<a href="#__codelineno-14-27" id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-14-28" id="__codelineno-14-28" name="__codelineno-14-28"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">appId</span><span class="p">;</span>
<a href="#__codelineno-14-29" id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-14-30" id="__codelineno-14-30" name="__codelineno-14-30"></a>
<a href="#__codelineno-14-31" id="__codelineno-14-31" name="__codelineno-14-31"></a><span class="w">  </span><span class="nx">createWolframAlphaURL</span><span class="p">(</span><span class="nx">query</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-32" id="__codelineno-14-32" name="__codelineno-14-32"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formattedQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">query</span><span class="p">.</span><span class="nx">replaceAll</span><span class="p">(</span><span class="sr">/`/g</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">).</span><span class="nx">replaceAll</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="w"> </span><span class="s1">' '</span><span class="p">);</span>
<a href="#__codelineno-14-33" id="__codelineno-14-33" name="__codelineno-14-33"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">baseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'https://www.wolframalpha.com/api/v1/llm-api'</span><span class="p">;</span>
<a href="#__codelineno-14-34" id="__codelineno-14-34" name="__codelineno-14-34"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">encodedQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">formattedQuery</span><span class="p">);</span>
<a href="#__codelineno-14-35" id="__codelineno-14-35" name="__codelineno-14-35"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">appId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">apiKey</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getAppId</span><span class="p">();</span>
<a href="#__codelineno-14-36" id="__codelineno-14-36" name="__codelineno-14-36"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">baseURL</span><span class="si">}</span><span class="sb">?input=</span><span class="si">${</span><span class="nx">encodedQuery</span><span class="si">}</span><span class="sb">&amp;appid=</span><span class="si">${</span><span class="nx">appId</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a href="#__codelineno-14-37" id="__codelineno-14-37" name="__codelineno-14-37"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">url</span><span class="p">;</span>
<a href="#__codelineno-14-38" id="__codelineno-14-38" name="__codelineno-14-38"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-14-39" id="__codelineno-14-39" name="__codelineno-14-39"></a>
<a href="#__codelineno-14-40" id="__codelineno-14-40" name="__codelineno-14-40"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">_call</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-41" id="__codelineno-14-41" name="__codelineno-14-41"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-42" id="__codelineno-14-42" name="__codelineno-14-42"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createWolframAlphaURL</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<a href="#__codelineno-14-43" id="__codelineno-14-43" name="__codelineno-14-43"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">fetchRawText</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<a href="#__codelineno-14-44" id="__codelineno-14-44" name="__codelineno-14-44"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<a href="#__codelineno-14-45" id="__codelineno-14-45" name="__codelineno-14-45"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-46" id="__codelineno-14-46" name="__codelineno-14-46"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-47" id="__codelineno-14-47" name="__codelineno-14-47"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error data:'</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<a href="#__codelineno-14-48" id="__codelineno-14-48" name="__codelineno-14-48"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<a href="#__codelineno-14-49" id="__codelineno-14-49" name="__codelineno-14-49"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-50" id="__codelineno-14-50" name="__codelineno-14-50"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error querying Wolfram Alpha`</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<a href="#__codelineno-14-51" id="__codelineno-14-51" name="__codelineno-14-51"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">'There was an error querying Wolfram Alpha.'</span><span class="p">;</span>
<a href="#__codelineno-14-52" id="__codelineno-14-52" name="__codelineno-14-52"></a><span class="w">      </span><span class="p">}</span>
<a href="#__codelineno-14-53" id="__codelineno-14-53" name="__codelineno-14-53"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-14-54" id="__codelineno-14-54" name="__codelineno-14-54"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-14-55" id="__codelineno-14-55" name="__codelineno-14-55"></a><span class="p">}</span>
<a href="#__codelineno-14-56" id="__codelineno-14-56" name="__codelineno-14-56"></a>
<a href="#__codelineno-14-57" id="__codelineno-14-57" name="__codelineno-14-57"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">WolframAlphaAPI</span><span class="p">;</span>
</code></pre>
       </div>
       <p>
        In this example, the
        <code>
         WolframAlphaAPI
        </code>
        class has helper methods like
        <code>
         fetchRawText
        </code>
        ,
        <code>
         getAppId
        </code>
        , and
        <code>
         createWolframAlphaURL
        </code>
        to handle specific tasks. The
        <code>
         _call
        </code>
        method makes an HTTP request to the Wolfram Alpha API and returns the response.
       </p>
      </article>
     </div>
     <script>
      var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))
     </script>
    </div>
    <button class="md-top md-icon" data-md-component="top" hidden="" type="button">
     <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z">
      </path>
     </svg>
     Back to top
    </button>
   </main>
   <footer class="md-footer">
    <div class="md-footer-meta md-typeset">
     <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
       <div class="md-copyright__highlight">
        ¬© 2023
        <a href="https://github.com/danny-avila/LibreChat" rel="noopener" target="_blank">
         LibreChat
        </a>
       </div>
       Made with
       <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
        Material for MkDocs
       </a>
      </div>
      <div class="md-social">
       <a class="md-social__link" href="https://discord.librechat.ai" rel="noopener" target="_blank" title="Discord">
        <svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z">
         </path>
        </svg>
       </a>
       <a class="md-social__link" href="https://librechat.ai" rel="noopener" target="_blank" title="GitHub">
        <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
         </path>
        </svg>
       </a>
       <a class="md-social__link" href="https://yt.librechat.ai" rel="noopener" target="_blank" title="YouTube">
        <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z">
         </path>
        </svg>
       </a>
       <a class="md-social__link" href="https://linkedin.librechat.ai" rel="noopener" target="_blank" title="LinkedIn">
        <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z">
         </path>
        </svg>
       </a>
       <a class="md-social__link" href="https://demo.librechat.cfd" rel="noopener" target="_blank" title="Demo">
        <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M278.5 215.6 23 471c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l57-57h68c49.7 0 97.9-14.4 139-41 11.1-7.2 5.5-23-7.8-23-5.1 0-9.2-4.1-9.2-9.2 0-4.1 2.7-7.6 6.5-8.8l81-24.3c2.5-.8 4.8-2.1 6.7-4l22.4-22.4c10.1-10.1 2.9-27.3-11.3-27.3H377c-5.1 0-9.2-4.1-9.2-9.2 0-4.1 2.7-7.6 6.5-8.8l112-33.6c4-1.2 7.4-3.9 9.3-7.7 10.8-21 16.4-44.5 16.4-68.6 0-41-16.3-80.3-45.3-109.3l-5.5-5.5C432.3 16.3 393 0 352 0s-80.3 16.3-109.3 45.3L139 149c-48 48-75 113.1-75 181v55.3l189.6-189.5c6.2-6.2 16.4-6.2 22.6 0 5.4 5.4 6.1 13.6 2.2 19.8z">
         </path>
        </svg>
       </a>
       <a class="md-social__link" href="https://hf.librechat.ai" rel="noopener" target="_blank" title="Hugging Face">
        <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
         <!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
         <path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm132.1-199.2c12.3-3.8 24.3 6.9 19.3 18.7-25 59.1-83.2 100.5-151.1 100.5s-126.2-41.4-151.1-100.5c-5-11.8 7-22.5 19.3-18.7 39.7 12.2 84.5 19 131.8 19s92.1-6.8 131.8-19zm-170.5-84-.2-.2c-.2-.2-.4-.5-.7-.9-.6-.8-1.6-2-2.8-3.4-2.5-2.8-6-6.6-10.2-10.3-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3-1.2 1.4-2.2 2.6-2.8 3.4-.3.4-.6.7-.7.9l-.2.2c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8 9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8 0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8zm160 0-.2-.2c-.2-.2-.4-.5-.7-.9-.6-.8-1.6-2-2.8-3.4-2.5-2.8-6-6.6-10.2-10.3-8.8-7.8-18.8-14-27.7-14s-18.9 6.2-27.7 14c-4.2 3.7-7.7 7.5-10.2 10.3-1.2 1.4-2.2 2.6-2.8 3.4-.3.4-.6.7-.7.9l-.2.2c-2.1 2.8-5.7 3.9-8.9 2.8s-5.5-4.1-5.5-7.6c0-17.9 6.7-35.6 16.6-48.8 9.8-13 23.9-23.2 39.4-23.2s29.6 10.2 39.4 23.2c9.9 13.2 16.6 30.9 16.6 48.8 0 3.4-2.2 6.5-5.5 7.6s-6.9 0-8.9-2.8z">
         </path>
        </svg>
       </a>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <div class="md-dialog" data-md-component="dialog">
   <div class="md-dialog__inner md-typeset">
   </div>
  </div>
  <div class="md-progress" data-md-component="progress" role="progressbar">
  </div>
  <script id="__config" type="application/json">
   {"base": "../..", "features": ["header.autohide", "navigation.tabs", "navigation.tabs.sticky", "content.action.edit", "content.code.copy", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}
  </script>
  <script src="../../assets/javascripts/bundle.7389ff0e.min.js">
  </script>
 </body>
</html>
